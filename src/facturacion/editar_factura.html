<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Editar Facturación</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>

<body class="bg-gray-50 min-h-screen">

  <!-- SIDEBAR (fijo a la izquierda) -->
  <div id="sidebar" class="fixed left-0 top-0 h-screen w-64 z-40 bg-white shadow"></div>

  <!-- TOPBAR (fija arriba del contenido principal) -->
  <div id="topbar"
    class="fixed top-0 left-64 right-0 h-16 bg-white border-b border-gray-200 shadow-sm z-50 flex items-center px-6">
  </div>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="pt-24 px-6 md:ml-64 transition-all duration-300">

    <div class="bg-white shadow-sm rounded-xl p-6 mb-10">
      <!-- ENCABEZADO -->
      <h2 class="text-lg font-semibold mb-6 text-gray-800">Editar Facturación</h2>

      <!-- FORMULARIO -->
      <form id="formFactura" class="space-y-5">
        <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Factura número</label>
            <input id="numeroFactura" type="text" class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-100"
              placeholder="WP-343434" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Cliente</label>
            <input id="cliente" type="text" class="w-full border rounded-lg px-3 py-2"
              placeholder="Buscar por nombre o cédula" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Dirección del cliente</label>
            <input id="direccion" type="text" class="w-full border rounded-lg px-3 py-2"
              placeholder="Ingrese dirección" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Teléfono</label>
            <input id="telefono" type="text" class="w-full border rounded-lg px-3 py-2"
              placeholder="+57 3214567890" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Método de pago</label>
            <select id="metodoPago" class="w-full border rounded-lg px-3 py-2">
              <option value="">Seleccionar</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Fecha de facturación</label>
            <input id="fechaFacturacion" type="date" class="w-full border rounded-lg px-3 py-2" />
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-600 mb-1">Información adicional</label>
          <textarea id="nota" class="w-full border rounded-lg px-3 py-2" rows="3"
            placeholder="Notas u observaciones..."></textarea>
        </div>
      </form>

      <!-- TABLA DE PRODUCTOS -->
      <div class="mt-8 overflow-x-auto">
        <table class="w-full border-collapse text-sm">
          <thead>
            <tr class="bg-gray-100 text-gray-700">
              <th class="text-left px-4 py-2">#</th>
              <th class="text-left px-4 py-2">Producto</th>
              <th class="text-center px-4 py-2">Cantidad</th>
              <th class="text-center px-4 py-2">Precio unitario</th>
              <th class="text-center px-4 py-2">Descuento</th>
              <th class="text-center px-4 py-2">Total</th>
              <th class="px-4 py-2"></th>
            </tr>
          </thead>
          <tbody id="tablaProductos">
            <tr class="border-b">
              <td class="px-4 py-2">1</td>
              <td class="px-4 py-2">Macbook Pro 13"</td>
              <td class="text-center px-4 py-2">1</td>
              <td class="text-center px-4 py-2">$1,200</td>
              <td class="text-center px-4 py-2">0%</td>
              <td class="text-center px-4 py-2">$1,200</td>
              <td class="text-center px-4 py-2">
                <img src="../svg/trash.svg" class="w-5 h-5 inline-block cursor-pointer" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- AGREGAR PRODUCTO -->
      <div class="mt-6 grid md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-600 mb-1">Nombre del producto</label>
          <input id="producto" type="text" placeholder="Ingrese el nombre del producto"
            class="w-full border rounded-lg px-3 py-2" />
        </div>
        <div class="flex flex-wrap gap-3 items-end">
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Precio</label>
            <input id="precio" type="text" placeholder="$100.000" class="w-32 border rounded-lg px-3 py-2" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Cantidad</label>
            <div class="flex border rounded-lg overflow-hidden">
              <button type="button" class="px-3 py-1 border-r">-</button>
              <input id="cantidad" type="text" value="1" class="w-10 text-center outline-none" />
              <button type="button" class="px-3 py-1 border-l">+</button>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Descuento</label>
            <select id="descuento" class="w-20 border rounded-lg px-2 py-2">
              <option>0%</option>
              <option>10%</option>
              <option>20%</option>
            </select>
          </div>
          <button type="button"
            class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Guardar Producto</button>
        </div>
      </div>

      <p class="text-sm text-gray-500 mt-3">
        <img src="../svg/info.svg" class="inline w-4 h-4 mr-1" />
        Después de rellenar los datos del producto, haz clic en "Guardar producto" para añadirlo a la lista.
      </p>

      <!-- RESUMEN -->
      <div class="mt-8 flex flex-col sm:flex-row justify-between items-start sm:items-center">
        <div class="mt-4 sm:mt-0 sm:ml-auto w-full sm:w-auto">
          <div class="text-sm space-y-1 text-right">
            <p>Subtotal: <span class="font-medium">$3,850</span></p>
            <p>Descuento (10%): <span class="font-medium">$385</span></p>
            <p class="text-lg font-semibold">Total: $4,235</p>
          </div>
          <button id="btnGuardarFactura"
            class="mt-4 bg-blue-600 text-white px-5 py-2 rounded-lg flex items-center gap-2 w-full sm:w-auto justify-center hover:bg-blue-700 transition">
            <img src="../svg/save.svg" class="w-4 h-4" /> Guardar Factura
          </button>
        </div>
      </div>
    </div>
  </main>

  <!-- MODAL LOGOUT -->
  <div id="logoutModal"
    class="hidden fixed inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm z-50">
    <div
      class="bg-white rounded-2xl shadow-xl max-w-md w-full mx-4 p-6 text-center transform scale-95 opacity-0 transition-all duration-300">
      <h2 class="text-2xl font-bold text-gray-800 mb-3">¿Estás seguro de salir?</h2>
      <p class="text-gray-500 text-sm mb-6">
        Si cierras sesión perderás el acceso inmediato al sistema y deberás ingresar nuevamente.
      </p>
      <div class="flex justify-center gap-4">
        <button id="cancelLogout"
          class="px-6 py-2 rounded-xl border border-gray-300 text-gray-700 font-medium hover:bg-gray-100 transition">
          Cerrar
        </button>
        <button id="confirmLogout"
          class="px-6 py-2 rounded-xl bg-blue-600 text-white font-medium shadow-md hover:bg-blue-700 transition">
          Continuar
        </button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="../components/components.js"></script>
  <script>
    initComponents();
  </script>
</body>

</html>
