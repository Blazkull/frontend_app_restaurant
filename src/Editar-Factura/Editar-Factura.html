<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TailAdmin - Editar Factura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#465FFF', // Color principal de los botones y enfoque
                    }
                }
            }
        }
    </script>
    <style>
        /* Estilos personalizados para el ícono de eliminación en la tabla */
        .delete-icon {
            fill: #9CA3AF; /* Color gris por defecto */
            transition: fill 0.2s;
        }
        .delete-icon:hover {
            fill: #EF4444; /* Rojo al pasar el ratón */
        }
        /* Clase para simular el botón de cerrar sesión en la parte inferior de la sidebar */
        .sidebar-bottom-padding {
            padding: 1.5rem;
        }

        /* Oculta la flecha de los select en Tailwind (opcional, para mejor consistencia visual) */
        .custom-select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='currentColor'%3E%3Cpath d='M7 7l3-3 3 3m0 6l-3 3-3-3' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }

    </style>
</head>
<body class="bg-gray-50">

    <div class="flex h-screen overflow-hidden">

        <aside id="sidebar" class="w-64 bg-white border-r border-gray-200 flex flex-col h-full transition-all duration-300 -translate-x-full md:translate-x-0 absolute md:relative z-40">

            <div class="flex items-center gap-2 p-4 border-b border-gray-200">
                <div class="w-8 h-8 bg-primary bg-indigo-600 rounded-lg flex items-center justify-center">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.5 17H2.83333C3.66176 17 4.33333 16.3284 4.33333 15.5V8.35156C4.33333 7.52314 3.66176 6.85156 2.83333 6.85156H2.5C1.67157 6.85156 1 7.52314 1 8.35156V15.5C1 16.3284 1.67157 17 2.5 17Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8.83301 16.9991H9.16634C9.99477 16.9991 10.6663 16.3275 10.6663 15.4991V2.5C10.6663 1.67157 9.99477 1 9.16634 1H8.83301C8.00458 1 7.33301 1.67157 7.33301 2.5V15.4991C7.33301 16.3275 8.00458 16.9991 8.83301 16.9991Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M15.166 17H15.4993C16.3278 17 16.9993 16.3284 16.9993 15.5V11.9218C16.9993 11.0934 16.3278 10.4218 15.4993 10.4218H15.166C14.3376 10.4218 13.666 11.0934 13.666 11.9218V15.5C13.666 16.3284 14.3376 17 15.166 17Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="font-semibold text-lg text-gray-900">Media Luna</span>
            </div>

            <nav class="flex-1 overflow-y-auto p-4">
                <ul class="space-y-2">
                    <li>
                        <a href="#" class="flex items-center gap-3 px-4 py-3 text-black-700 hover:text-blue-600 hover:bg-blue-200 rounded-lg transition-colors">
                            <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <path d="M2.24999 1.25C1.42156 1.25 0.749992 1.92157 0.749992 2.75V5.68555C2.02853 5.68555 3.06554 6.72201 3.06554 8.00055C3.06554 9.27909 2.02908 10.3155 0.750539 10.3155L0.749992 13.25C0.749992 14.0784 1.42156 14.75 2.24999 14.75H17.75C18.5784 14.75 19.25 14.0784 19.25 13.25V10.3155C17.9717 10.3153 16.9355 9.2789 16.9355 8.00055C16.9355 6.72219 17.9717 5.68584 19.25 5.68555V2.75C19.25 1.92157 18.5784 1.25 17.75 1.25H2.24999Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>Facturación</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center gap-3 px-4 py-3 text-black-700 hover:text-blue-600 hover:bg-blue-200 rounded-lg transition-colors">
                            <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.109 1.10414C12.4743 0.941781 12.8789 0.851562 13.3045 0.851562C14.932 0.851562 16.2514 2.17095 16.2514 3.79851C16.2514 5.42606 14.932 6.74545 13.3045 6.74545C12.8794 6.74545 12.4753 6.65545 12.1103 6.49346M13.797 9.22074C17.5989 9.44528 18.821 12.009 19.2134 13.6906C19.3993 14.4875 18.7424 15.1487 17.9241 15.1487H15.59M9.75121 3.79855C9.75121 5.4261 8.43182 6.74549 6.80427 6.74549C5.17671 6.74549 3.85732 5.4261 3.85732 3.79855C3.85732 2.171 5.17671 0.851604 6.80427 0.851604C8.43182 0.851604 9.75121 2.171 9.75121 3.79855ZM6.74941 9.20495C10.9833 9.20495 12.3026 11.9309 12.7132 13.6906C12.8991 14.4875 12.2422 15.1487 11.4239 15.1487H2.07489C1.25661 15.1487 0.599726 14.4875 0.785649 13.6906C1.19623 11.9309 2.51554 9.20495 6.74941 9.20495Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>Clientes</span>
                        </a>
                    </li>
                </ul>
            </nav>

             <div class="p-6 bg-white border-t border-gray-200">
                <button  id="sidebarLogout" class="w-full bg-[#465FFF] text-white py-3 px-6 rounded-lg font-semibold hover:bg-[#3A4FE6] transition-colors flex items-center justify-center gap-2">
                    Cerrar sesión
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                    </svg>
                </button>
                </div>
        </aside>

        <div id="sidebar-overlay" class="fixed inset-0 bg-gray-900/50 z-30 hidden md:hidden" onclick="toggleSidebar()"></div>

        <div class="flex-1 flex flex-col overflow-hidden">

            <!-- Header -->
            <header class="bg-white border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-2">
                        <button class="menuToggle cursor-pointer">
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6L20 6M4 18L20 18M4 12L12 12" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>  
                        </button>
                        
                    </div>
                    
                     <!--User profile-->
                    <div class="flex items-center gap-2">
                        <div class="">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-primary  flex items-center justify-center text-white content-color border border-white  font-semibold bg-[#465FFF] rounded-full">
                        US
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium">Jhoan Acosta</p>
                        <p class="text-xs text-gray-500">Admin</p>
                    </div>
                </div>
                    
                <!-- User navigation -->
                <div class="flex items-center gap-2 text-gray-500 mt-5">
                        <span class="text-sm text-gray-500">Home</span>
                        <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                        <span class="text-sm font-medium text-gray-900">Menu</span>
                        
                    </div>
                </div>
                
                </div>
            </header>

            <main class="flex-1 overflow-y-auto p-6 bg-gray-50">

                <h1 class="text-2xl font-bold text-gray-800 mb-6">Editar Factura</h1>
                
                <div class="bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-8">
                    
                    <div class="border-b border-gray-200 pb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-4">Información de Facturacion</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="factura-numero" class="block text-sm font-medium text-gray-700 mb-1">Factura número</label>
                                <input type="text" id="factura-numero" value="WP-3454634" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" readonly />
                            </div>
                            <div>
                                <label for="cliente" class="block text-sm font-medium text-gray-700 mb-1">Cliente</label>
                                <input type="text" id="cliente" placeholder="Buscar por nombre o cédula" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" />
                            </div>
                            <div>
                                <label for="direccion" class="block text-sm font-medium text-gray-700 mb-1">Dirección del cliente</label>
                                <input type="text" id="direccion" placeholder="Enter customer address" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" />
                            </div>
                            <div>
                                <label for="telefono" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                                <input type="text" id="telefono" value="+57 324 56 7890" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" />
                            </div>
                            <div>
                                <label for="metodo-pago" class="block text-sm font-medium text-gray-700 mb-1">Método de pago</label>
                                <select id="metodo-pago" class="custom-select w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary bg-white">
                                    <option value="">Select condition</option>
                                    <option value="Efectivo">Efectivo</option>
                                    <option value="Tarjeta">Tarjeta de Crédito</option>
                                    <option value="Transferencia">Transferencia</option>
                                </select>
                            </div>
                            <div>
                                <label for="fecha-facturacion" class="block text-sm font-medium text-gray-700 mb-1">Fecha de facturacion</label>
                                <div class="relative">
                                    <input type="date" id="fecha-facturacion" placeholder="Selecciona fecha" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary custom-date-input bg-white" />
                                    </div>
                            </div>
                            <div class="md:col-span-2">
                                <label for="informacion-adicional" class="block text-sm font-medium text-gray-700 mb-1">Informacion adicional</label>
                                <textarea id="informacion-adicional" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <h2 class="text-xl font-semibold text-gray-900">Detalle de Productos</h2>
                        
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="w-auto bg-gray-50">
                                    <tr>
                                        <th class=" px-6 py-3 whitespace-nowrap text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">S.No.</th>
                                        <th class=" px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Productos</th>
                                        <th class=" px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Cantidad</th>
                                        <th class=" px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Precio unitario</th>
                                        <th class=" px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Descuento</th>
                                        <th class=" px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Total</th>
                                        <th class=" px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider"></th>
                                    </tr>
                                </thead>
                                <tbody id="factura-productos-body" class="bg-white divide-y divide-gray-200">
                                    </tbody>
                            </table>
                        </div>
                        
                        <div class="grid grid-cols-12 gap-3 items-end pt-4 border-t border-gray-200">
                            <div class="col-span-12 sm:col-span-4">
                                <label for="nuevo-producto-nombre" class="block text-sm font-medium text-gray-700 mb-1">Nombre de producto</label>
                                <input type="text" id="nuevo-producto-nombre" placeholder="Ingresa el nombre del producto" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" />
                            </div>
                            <div class="col-span-12 sm:col-span-3">
                                <label for="nuevo-producto-precio" class="block text-sm font-medium text-gray-700 mb-1">Precio</label>
                                <input type="number" id="nuevo-producto-precio" value="100.00" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" />
                            </div>
                            <div class="col-span-4 sm:col-span-2">
                                <label for="nuevo-producto-cantidad" class="block text-sm font-medium text-gray-700 mb-1">Cantidad</label>
                                <div class="flex items-center border border-gray-300 rounded-lg">
                                    <button onclick="changeQuantity('nuevo-producto-cantidad', -1)" type="button" class="p-2 text-gray-500 hover:text-primary transition-colors focus:outline-none">-</button>
                                    <input type="number" id="nuevo-producto-cantidad" value="1" min="1" class="w-full text-center py-2 text-sm focus:outline-none focus:ring-0 border-x border-gray-300" style="appearance: none; -moz-appearance: textfield; border-radius: 0;" />
                                    <button onclick="changeQuantity('nuevo-producto-cantidad', 1)" type="button" class="p-2 text-gray-500 hover:text-primary transition-colors focus:outline-none">+</button>
                                </div>
                            </div>
                            <div class="col-span-3 sm:col-span-1">
                                <label for="nuevo-producto-descuento" class="block text-sm font-medium text-gray-700 mb-1">Descuento</label>
                                <div class="relative">
                                    <input type="number" id="nuevo-producto-descuento" value="0" min="0" max="100" class="w-full pl-3 pr-6 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary" />
                                    <span class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">%</span>
                                </div>
                            </div>
                            <div class="col-span-5 sm:col-span-2">
                                <button id="agregar-articulo" type="button" onclick="agregarProducto()" class="w-full bg-primary text-white py-2.5 px-4 rounded-lg font-semibold hover:bg-[#3A4FE6] transition-colors text-sm">Guardar Producto</button>
                            </div>
                            <p class="col-span-12 text-xs text-gray-500 mt-2">
                                Después de rellenar los datos del producto, haz clic en «Guardar producto» para añadirlo a la lista.
                            </p>
                        </div>
                    </div>

                    <div class="flex justify-end">
                        <div class="w-full sm:w-80 space-y-2 pt-4">
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Resumen de pedido</h3>
                            
                            <div class="flex justify-between text-gray-700">
                                <span>Subtotal</span>
                                <span id="subtotal-display" class="font-medium">$3,850</span>
                            </div>
                            
                            <div class="flex justify-between text-red-600">
                                <span>Descuento (10%)</span>
                                <span id="descuento-display" class="font-medium">-$385</span>
                            </div>
                            
                            <div class="flex justify-between pt-2 border-t border-gray-200 text-lg font-bold text-gray-900">
                                <span>Total</span>
                                <span id="total-display">$4,235</span>
                            </div>
                            <div class="flex gap-4 mt-4">

                            <button id="cancelar-edicion" 
                                    class="w-auto bg-red-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-red-600 transition-colors flex items-center justify-center gap-2 mt-4">
                                <span>Cancelar</span>
                            </button>

                            <button id="guardar-cambios" class="w-auto bg-primary text-white py-3 px-6 rounded-lg font-semibold hover:bg-[#3A4FE6] transition-colors flex items-center justify-center gap-2 mt-4">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.24a4 4 0 010 5.656l-4.95 4.95a4 4 0 01-5.656 0l-4.95-4.95a4 4 0 010-5.656l4.95-4.95a4 4 0 015.656 0l4.95 4.95z"></path>
                                </svg>
                                <span>Guardar Factura</span>
                            </button>
                        </div>
                    </div>

                </div>
            </main>

        </div>
        
    </div>
    
    <div id="sidebar-overlay" class="fixed inset-0 bg-black opacity-0 z-30 transition-opacity duration-300 md:hidden pointer-events-none" onclick="toggleSidebar()"></div>

    <div class="fixed bottom-4 left-4 z-50 md:hidden">
        <button class="bg-primary text-white py-2 px-4 rounded-lg shadow-lg font-semibold" onclick="toggleSidebar()">
            Cerrar Sesión
        </button>
    </div>

    <script src="../Editar-Factura/Editar-Factura.js"></script>

</body>
</html>